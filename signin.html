<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sign In — VisionForge AI</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Your CSS -->
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>

  <!-- NAV (same as other pages) -->
  <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
    <div class="container container-narrow py-2">
      <a class="navbar-brand" href="index.html">
        <span class="brand-mark">
          <img src="Images/icon-ai.png" alt="AI">
        </span>
        VisionForge AI
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navMain">
        <ul class="navbar-nav ms-auto gap-lg-2 align-items-lg-center">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
          <li class="nav-item"><a class="btn btn-sm btn-brand ms-lg-2" href="signin.html">Sign In</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Minimal HTML (React will render everything inside) -->
  <main class="section pt-4">
    <div class="container container-narrow">
      <div id="root"></div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container container-narrow d-flex flex-wrap justify-content-between align-items-center gap-2">
      <div>© <span id="year"></span> VisionForge AI</div>
      <div class="small text-white-50">Secure demo login • React state • UI behavior</div>
    </div>
  </footer>

  <div id="toast"></div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Your JS -->
  <script src="js/scripts.js"></script>
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <!-- React (CDN) -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- React App -->
  <script type="text/babel">
    const { useMemo, useState } = React;

    function SignInPage() {
      // Login form state
      const [login, setLogin] = useState("");
      const [password, setPassword] = useState("");

      // Create account panel state
      const [showCreate, setShowCreate] = useState(false);
      const [newName, setNewName] = useState("");
      const [newEmail, setNewEmail] = useState("");
      const [newLogin, setNewLogin] = useState("");
      const [newPassword, setNewPassword] = useState("");

      const strength = useMemo(() => {
        let score = 0;
        if (password.length >= 8) score++;
        if (/[A-Z]/.test(password)) score++;
        if (/[0-9]/.test(password)) score++;
        if (/[^A-Za-z0-9]/.test(password)) score++;
        return score; // 0..4
      }, [password]);

      function handleLoginSubmit(e) {
        e.preventDefault();
        if (!login || !password) {
          window.vfToast?.("Please enter login + password.");
          return;
        }
        window.vfToast?.(`Signed in (demo) as ${login}`);
      }

      function handleCreateSubmit(e) {
        e.preventDefault();
        if (!newName || !newEmail || !newLogin || !newPassword) {
          window.vfToast?.("Fill all Create Account fields.");
          return;
        }

        // Required behavior:
        // 1) hide create form
        // 2) keep login form visible
        // 3) fill login + password with new values
        setLogin(newLogin);
        setPassword(newPassword);
        setShowCreate(false);

        // clear create fields (optional nice UX)
        setNewName("");
        setNewEmail("");
        setNewLogin("");
        setNewPassword("");

        window.vfToast?.("Account created (demo). Login fields filled.");
      }

      return (
        <>
          {/* Page header card */}
          <div className="hero-card mb-4">
            <div className="hero-inner">
              <div className="row align-items-center g-4">
                <div className="col-lg-8">
                  <h1 className="mb-2">Sign in to VisionForge AI</h1>
                  <p className="mb-0 text-white-50">
                    This is a React demo page for Project 1. Create Account toggles a second form and uses state
                    to fill login credentials automatically.
                  </p>
                </div>
                <div className="col-lg-4">
                  <div className="preview preview-fixed">
                    <img src="Images/login-bg.jpg" alt="Login background" />
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Forms grid */}
          <div className="row g-4">
            {/* LOGIN FORM */}
            <div className={showCreate ? "col-lg-6" : "col-lg-7"}>
              <div className="card-glass p-4 h-100">
                <h2 className="h4 mb-3">Sign In</h2>

                <form onSubmit={handleLoginSubmit}>
                  <div className="mb-3">
                    <label className="form-label text-white-50">Login</label>
                    <input
                      className="form-control form-control-dark"
                      placeholder="your_login"
                      value={login}
                      onChange={(e) => setLogin(e.target.value)}
                    />
                  </div>

                  <div className="mb-2">
                    <label className="form-label text-white-50">Password</label>
                    <input
                      type="password"
                      className="form-control form-control-dark"
                      placeholder="••••••••"
                      value={password}
                      onChange={(e) => setPassword(e.target.value)}
                    />
                  </div>

                  {/* small “strength” UI (nice extra polish, still simple) */}
                  <div className="small text-white-50 mb-3">
                    Password strength:{" "}
                    <span className="text-white">
                      {["Very weak","Weak","OK","Good","Strong"][strength]}
                    </span>
                  </div>

                  <div className="d-flex gap-2 flex-wrap">
                    <button className="btn btn-brand px-4" type="submit">Sign In (Demo)</button>
                    <button
                      className="btn btn-outline-light px-4"
                      type="button"
                      onClick={() => setShowCreate((v) => !v)}
                    >
                      {showCreate ? "Hide Create Account" : "Create Account"}
                    </button>

                    <button
                      className="btn btn-outline-light px-4"
                      type="button"
                      onClick={() => window.copyEmail?.()}
                    >
                      Copy Email
                    </button>
                  </div>

                  <div className="mt-3 small text-white-50">
                    Demo contact: <span className="text-white">hello@visionforge.ai</span>
                  </div>
                </form>
              </div>
            </div>

            {/* CREATE ACCOUNT FORM (RIGHT SIDE) */}
            {showCreate && (
              <div className="col-lg-6">
                <div className="card-glass p-4 h-100">
                  <h2 className="h4 mb-3">Create Account</h2>

                  <form onSubmit={handleCreateSubmit}>
                    <div className="row g-3">
                      <div className="col-12">
                        <label className="form-label text-white-50">Full Name</label>
                        <input
                          className="form-control form-control-dark"
                          placeholder="Your name"
                          value={newName}
                          onChange={(e) => setNewName(e.target.value)}
                        />
                      </div>

                      <div className="col-12">
                        <label className="form-label text-white-50">Email</label>
                        <input
                          type="email"
                          className="form-control form-control-dark"
                          placeholder="you@email.com"
                          value={newEmail}
                          onChange={(e) => setNewEmail(e.target.value)}
                        />
                      </div>

                      <div className="col-md-6">
                        <label className="form-label text-white-50">New Login</label>
                        <input
                          className="form-control form-control-dark"
                          placeholder="new_login"
                          value={newLogin}
                          onChange={(e) => setNewLogin(e.target.value)}
                        />
                      </div>

                      <div className="col-md-6">
                        <label className="form-label text-white-50">New Password</label>
                        <input
                          type="password"
                          className="form-control form-control-dark"
                          placeholder="new_password"
                          value={newPassword}
                          onChange={(e) => setNewPassword(e.target.value)}
                        />
                      </div>

                      <div className="col-12 d-flex gap-2 flex-wrap mt-2">
                        <button className="btn btn-brand px-4" type="submit">
                          Create (Demo)
                        </button>
                        <button
                          className="btn btn-outline-light px-4"
                          type="button"
                          onClick={() => {
                            setShowCreate(false);
                            window.vfToast?.("Create account cancelled.");
                          }}
                        >
                          Cancel
                        </button>
                      </div>

                      <div className="small text-white-50 mt-2">
                        When you create, this form disappears and your login fields fill automatically.
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            )}
          </div>
        </>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<SignInPage />);
  </script>

</body>
</html>
